<!DOCTYPE HTML>
<html>
<head>
<title>倒计时自动关闭/跳转页面</title>
<meta charset="utf-8" />

</head>
<body>
	<span id="msg">5秒钟后自动关闭</span><br>
	<a href="javascript:stop()">留在本页</a>
  <script>
//	  var timer=setTimeout(()=>close(),5000)
		function stop(){
//			clearTimeout(timer)
			clearInterval(timer)
		}
		function task(){
			var n=parseInt(msg.innerHTML);
			n--;
			if(n>0)
				msg.innerHTML=n+"秒钟后自动关闭";
			else
				close()
		}
		var timer=setInterval(task,1000);
  </script>
</body>
</html>
