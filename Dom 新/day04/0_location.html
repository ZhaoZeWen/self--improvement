<!DOCTYPE HTML>
<html>
<head>
<title>事件处理</title>
<meta charset="utf-8" />

</head>
<body>
	<a href="#top">to top</a>
 	<form>
		姓名:<input name="username"/><br>
		密码:<input type="password" name="pwd"/><br>
    爱好:<input type="checkbox" name="favs" value="running"/>跑步
          <input type="checkbox" name="favs" value="swimming"/>游泳
          <input type="checkbox" name="favs" value="basketball"/>篮球
          <br>
		<input type="submit"/>
	</form>
  <script>
    //?username=zhangdong&pwd=123456
		//params={
			//username: zhangdong,
			//pwd:123456
		//}
		function search2Obj(){//代码保护/验证
			var params={};
			if(location.search!==""){
				//?username=zhangdong&pwd=123456
				var search=location.search.slice(1);
				//username=zhangdong&pwd=123456
				var subStrs=search.split("&");
				//[username=zhangdong,pwd=123456]
				for(var sub of subStrs){
					var arr=sub.split("=");
					if(params[arr[0]]===undefined)
						params[arr[0]]=arr[1];
					else{
						params[arr[0]]=
							[].concat(params[arr[0]],arr[1])
					}
				}
			}
			return params;
		}
		var params=search2Obj();
		console.log(params);
		var {username, pwd}=params;
		console.log(username,pwd);
  </script>
</body>
</html>
